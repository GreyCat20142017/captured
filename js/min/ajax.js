"use strict";!function(){function i(t,e,n){var a,s,i;n.classList.contains("video-container")&&(e.classList.add("visually-hidden"),n.appendChild((a=t,s=document.createElement("iframe"),i="https://www.youtube.com/embed/"+a+"?autoplay=0",s.setAttribute("src",i),s.setAttribute("id",a),s.setAttribute("class","video-play video-iframe"),s)))}var o="GET",r="data-post",c=["A","SPAN","SVG","USE","PATH"],p=navigator.userAgent.indexOf("Trident/")<0,u=function(t){t&&window.backend.getPostData(o,"api.php?get_likes_count=1&post="+t.post,e,l,!1)},e=function(t){if(t){var e=b.querySelector("span["+r+'-like="'+t.post+'"]');e&&(e.textContent=""+t.likes)}},d=function(t){window.backend.getPostData(o,"api.php?get_reposts_count=1&post="+t.post,n,l,!1)},n=function(t){var e=b.querySelector("span["+r+'-repost="'+t.post+'"]');e&&(e.textContent=""+t.reposts)},l=function(t){console.log(t)},b=document.querySelector(".js-posts-container");b&&b.addEventListener("click",function(t){var e,n,a,s=t.target;if(c.indexOf(!(e=s).tagName||!e.classList||s.tagName.toUpperCase())<0||s.classList.contains("comments__button"))return!1;for(;!s.classList||!s.classList.contains("js-indicator")&&s!==b;)s=s.parentNode;return s.hasAttribute("href")&&s.classList.contains("js-indicator--likes")&&s.parentElement.hasAttribute(r)?p&&(t.preventDefault(),n=s.parentElement.getAttribute(r),window.backend&&window.backend.getPostData(o,"api.php?change_like=1&post="+n,u,l,!1)):s.hasAttribute("href")&&s.classList.contains("js-indicator--repost")&&s.parentElement.hasAttribute(r)?p&&(t.preventDefault(),a=s.parentElement.getAttribute(r),window.backend&&window.backend.getPostData(o,"api.php?change_repost=1&post="+a,d,l,!1)):s.classList.contains("js-indicator--video")&&s.hasAttribute("data-youtube-id")?(t.preventDefault(),i(s.getAttribute("data-youtube-id"),s,s.parentElement)):s.hasAttribute("href")&&s.classList.contains("js-indicator--comments")&&s.parentElement.hasAttribute(r)&&(t.preventDefault(),window.location="/"+s.getAttribute("href")),!1})}();
"use strict";!function(){function c(t){return e=t,n=document.createElement("iframe"),a="https://www.youtube.com/embed/"+e+"?autoplay=0"+(l?"":"&wmode=transparent"),n.src=a,n.id=e,n.setAttribute("class","video-play video-iframe"),l||n.setAttribute("wmode","opaque"),n;var e,n,a}var p="GET",u="data-post",d=["A","SPAN","SVG","USE","PATH"],l=navigator.userAgent.indexOf("Trident/")<0,b=function(t){t&&window.backend.getPostData(p,"api.php?get_likes_count=1&post="+t.post,e,m,!1)},e=function(t){if(t){var e=h.querySelector("span["+u+'-like="'+t.post+'"]');e&&(e.textContent=""+t.likes)}},f=function(t){window.backend.getPostData(p,"api.php?get_reposts_count=1&post="+t.post,n,m,!1)},n=function(t){var e=h.querySelector("span["+u+'-repost="'+t.post+'"]');e&&(e.textContent=""+t.reposts)},m=function(t){console.log(t)},h=document.querySelector(".js-posts-container");h&&h.addEventListener("click",function(t){var e,n,a,s,i,o,r=t.target;if((e=r).tagName&&e.classList&&(d.indexOf(r.tagName.toUpperCase())<0||r.classList.contains("comments__button")))return!1;for(;!r.classList||!r.classList.contains("js-indicator")&&r!==h;)r=r.parentNode;return r.hasAttribute("href")&&r.classList.contains("js-indicator--likes")&&r.parentElement.hasAttribute(u)?l&&(t.preventDefault(),n=r.parentElement.getAttribute(u),window.backend&&window.backend.getPostData(p,"api.php?change_like=1&post="+n,b,m,!1)):r.hasAttribute("href")&&r.classList.contains("js-indicator--repost")&&r.parentElement.hasAttribute(u)?l&&(t.preventDefault(),a=r.parentElement.getAttribute(u),window.backend&&window.backend.getPostData(p,"api.php?change_repost=1&post="+a,f,m,!1)):r.classList.contains("js-indicator--video")&&r.hasAttribute("data-youtube-id")?(t.preventDefault(),s=r.getAttribute("data-youtube-id"),(o=(i=r).parentElement).classList.contains("video-container")&&(i.classList.add("visually-hidden"),o.appendChild(c(s)))):r.hasAttribute("href")&&r.classList.contains("js-indicator--comments")&&r.parentElement.hasAttribute(u)&&(t.preventDefault(),window.location="/"+r.getAttribute("href")),!1})}();
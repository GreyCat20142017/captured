"use strict";!function(){function n(t,e){window.backend&&window.backend.getPostData(r,"api.php?change_subscription=1&call_from_single="+e+"&blogger="+t,s,o,!1)}var r="GET",i="data-blogger",s=function(t){t&&(a.textContent=t.subscribed?"ОТПИСАТЬСЯ":"ПОДПИСАТЬСЯ",window.backend.getPostData(r,"api.php?get_subscribers_count=1&blogger="+t.blogger,e,o,!1))},e=function(s){s&&[t?t.querySelector("span["+i+'-content="'+s.blogger+'"]'):null,c?c.querySelector("span["+i+'-content="'+s.blogger+'"]'):null].forEach(function(t){var e,n,r;t&&(t.textContent=""+s.subscribers,t.nextElementSibling.textContent=(e=parseInt(s.subscribers,10),n=["подписчик","подписчика","подписчиков"],r=(e=Math.abs(e)%100)%10,10<e&&e<20?n[2]:1<r&&r<5?n[1]:1==r?n[0]:n[2]))})},o=function(t){console.log(t)};if(navigator.userAgent.indexOf("Trident/")<0){var a=null,t=document.querySelector(".js-user"),c=document.querySelector(".js-subscriptions-container");c&&c.addEventListener("click",function(t){var e=t.target;return e.tagName&&"A"===e.tagName.toUpperCase()&&e.hasAttribute("href")&&e.classList.contains("user__button--subscription")&&e.hasAttribute(i)&&(t.preventDefault(),n((a=e).getAttribute(i),0)),!1});var u=t?t.querySelector(".js-subscription-single"):null;u&&u.addEventListener("click",function(t){var e=t.target;e.hasAttribute(i)&&(t.preventDefault(),n((a=e).getAttribute(i),1))})}}();